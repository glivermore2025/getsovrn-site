(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{1324:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/buyer_posts/new",function(){return a(3242)}])},3242:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(7876),r=a(4232),l=a(7328),n=a.n(l),u=a(7257),i=a(9099),c=a(6870);function o(){let{user:e,loading:s}=(0,c.A)(),a=(0,i.useRouter)(),[l,o]=(0,r.useState)(""),[d,p]=(0,r.useState)(""),[h,b]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),N=(0,u.A)(),v=async s=>{if(s.preventDefault(),!e)return void j("You must be logged in.");let{error:t}=await N.from("buyer_posts").insert([{user_id:e.id,title:l,description:d,budget:parseFloat(h),tags:m.split(",").map(e=>e.trim()).filter(Boolean)}]);if(t){console.error("Insert error:",t),j("Failed to create buyer post.");return}a.push("/marketplace")};return s?(0,t.jsx)("p",{className:"p-8 text-white",children:"Loading..."}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-950 text-white p-8",children:[(0,t.jsx)(n(),{children:(0,t.jsx)("title",{children:"Create Buyer Post â€“ Sovrn"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Create Buyer Post"}),(0,t.jsxs)("form",{onSubmit:v,className:"max-w-lg space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1",children:"Title"}),(0,t.jsx)("input",{className:"w-full p-2 rounded bg-gray-800",value:l,onChange:e=>o(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1",children:"Description"}),(0,t.jsx)("textarea",{className:"w-full p-2 rounded bg-gray-800",value:d,onChange:e=>p(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1",children:"Budget (USD)"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 rounded bg-gray-800",value:h,onChange:e=>b(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1",children:"Tags (comma separated)"}),(0,t.jsx)("input",{className:"w-full p-2 rounded bg-gray-800",value:m,onChange:e=>x(e.target.value),placeholder:"finance, healthcare"})]}),(0,t.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 py-2 px-4 rounded",children:"Create Post"}),g&&(0,t.jsx)("p",{className:"text-red-400",children:g})]})]}):(0,t.jsx)("p",{className:"p-8 text-white",children:"You must log in to create a post."})}},7328:(e,s,a)=>{e.exports=a(9269)}},e=>{e.O(0,[636,593,792],()=>e(e.s=1324)),_N_E=e.O()}]);